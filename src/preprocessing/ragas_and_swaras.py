#Related third party imports
import numpy as np


swaras=np.array(['S2', 'r2', 'R2', 'g2', 'G2', 'm2', 'M2', 'P2', 'd2', 'D2', 'n2', 'N2',
        'S3', 'r3', 'R3', 'g3', 'G3', 'm3', 'M3', 'P3', 'd3', 'D3', 'n3', 'N3',
       'S4', 'r4', 'R4', 'g4', 'G4', 'm4', 'M4', 'P4', 'd4', 'D4', 'n4', 'N4'])
raga_allowed_notes = {
                    'lalit':[1,1,0,0,1,1,1,0,1,0,0,1,
                             1,1,0,0,1,1,1,0,1,0,0,1,
                             1,1,0,0,1,1,1,0,1,0,0,1],
                    'bahar':[1,0,1,1,0,1,0,1,0,1,1,1,
                             1,0,1,1,0,1,0,1,0,1,1,1,
                             1,0,1,1,0,1,0,1,0,1,1,1],
                    'abhogi':[1, 0, 1, 1, 0, 1, 0, 0, 0 , 1, 0, 0,
                              1, 0, 1, 1, 0, 1, 0, 0, 0 , 1, 0, 0,
                              1, 0, 1, 1, 0, 1, 0, 0, 0 , 1, 0, 0],
                    'bhatiyar':[1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                                1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                                1, 1, 0, 0, 1, 1, 1, 1, 0, 1, 0, 1],
                    'bairagi':[1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                               1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                               1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0],
                    'irani_bhairavi':[1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0,],
                    'marwa':[1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1,
                             1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1,
                             1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1],
                    'bhairav':[1,1,0,0,1,1,0,1,1,0,0,1,
                               1,1,0,0,1,1,0,1,1,0,0,1,
                               1,1,0,0,1,1,0,1,1,0,0,1,],
                    'bhairavi_dadra':[1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0,],
    
                    'yaman':[1, 0, 1, 0, 1, 0,1,1, 0, 1, 0, 1,
                             1, 0, 1, 0, 1, 0,1,1, 0, 1, 0, 1,
                             1, 0, 1, 0, 1, 0,1,1, 0, 1, 0, 1],
                    
                    'multani':[1,1,0,1,0,0,1,1,1,0,0,1,
                               1,1,0,1,0,0,1,1,1,0,0,1,
                               1,1,0,1,0,0,1,1,1,0,0,1],
                    'bairagi2':[1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                               1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                               1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0],
                    'dhani':[1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0,
                             1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0,
                             1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0],
                    'shree':[1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 
                             1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 
                             1, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1],
                    'chandrakauns':[1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1,
                                    1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1,
                                    1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1],
                    'kedar':[1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 
                             1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                             1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1],
                    'bhupali':[1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 
                               1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 
                               1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0],
                    'majh_khamaj_thumri':[1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1,
                                          1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1,
                                          1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1,],
                    'malkauns':[1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0,
                                1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0,
                                1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0],
                    'ahir_bhairon':[1,1,0,0,1, 1,0, 1, 0,1,1,0,
                                    1,1,0,0,1, 1,0, 1, 0,1,1,0,
                                    1,1,0,0,1, 1,0, 1, 0,1,1,0],
                    'puriya':[1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1,
                                1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1,
                                1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1],
                    'bhimpalasi':[1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0,
                                  1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0,
                                  1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 1, 0],
                    'hameer':[1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0,1,
                              1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0,1,
                              1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0,1],
                    'todi':[1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1,
                           1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1,
                           1, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1],
                    'bihag':[1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                             1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                             1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1],
                    'gaud_malhar':[1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1,
                                   1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1,
                                   1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1],
                    'nat_bhairav':[1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1,
                                   1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1,
                                   1, 0, 1, 0, 1, 1, 0, 1, 1, 0, 0, 1],
                    'shudh_sarang':[1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1,
                                    1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1,
                                    1, 0, 1, 0, 0, 1, 1, 1, 0, 1, 0, 1],
                    'jog':[1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0,
                           1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0,
                           1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0],
                    'megh':[1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                            1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0,
                            1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0],
                    'raageshree':[1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0,
                                  1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0,
                                  1, 0, 1, 0, 1, 1, 0, 0, 0, 1, 1, 0],
                    'bibhas':[1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0,
                              1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0,
                              1, 1, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0],
                    'gavti': [1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0,
                              1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0,
                              1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 0],
                    'saraswati':[1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 
                                 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 
                                 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0],
                    'sudh_kalyan':[1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1,
                                  1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1,
                                  1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1],
                    'bilaskhani_todi':[1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0,
                                      1, 1, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0],
                    'maru_bihag':[1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                                  1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1,
                                  1, 0, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1],      
                    'kalavati':[1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0,
                                1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0,
                                1, 0, 0, 0, 1, 0, 0, 1, 0, 1, 1, 0]
                    }

#just testing with two ragas
raga_order={0:'lalit',1:'bahar', 2:'abhogi',3:'bhatiyar' , 4:'bairagi', 5:'irani_bhairavi', 6:'marwa', 
            7:'bhairav', 8:'bhairavi_dadra', 9:'yaman', 10:'multani', 11: 'bairagi2', 12: 'dhani', 13:'shree',
           14:'chandrakauns', 15:'kedar', 16:'bhupali', 17:'majh_khamaj_thumri', 18:'malkauns', 19: 'ahir_bhairon', 
           20:'shree', 21:'bhimpalasi', 22:'malkauns', 23:'puriya', 24:'hameer', 25:'irani_bhairavi', 26:'multani', 
            27:'dhani', 28:'todi', 29:'bihag', 30:'gaud_malhar', 31:'todi', 32:'nat_bhairav', 33:'ahir_bhairon', 
            34:'shudh_sarang', 35:'bhimpalasi', 36:'jog', 37:'megh', 38:'bhimpalasi', 39: 'raageshree', 40: 'bibhas', 
            41: 'hameer', 42:'shree', 43:'gavti', 44: 'saraswati' ,45:'marwa', 46:'sudh_kalyan', 47:'bihag',
           48:'bilaskhani_todi', 49:'lalit', 50:'yaman', 51:'bihag', 52:'kalavati'}

ratio = np.array([(1/2), (1/2)*16/15, (1/2)*9/8, (1/2)*6/5, (1/2)*5/4, (1/2)*4/3, (1/2)*45/32, (1/2)*3/2, (1/2)*8/5, (1/2)*27/16, (1/2)*9/5, (1/2)*15/8, 
                 1, 16/15, 9/8, 6/5, 5/4, 4/3, 45/32, 3/2, 8/5, 27/16, 9/5, 15/8, 
                 2, 2*16/15, 2*9/8, 2*6/5, 2*5/4, 2*4/3, 2*45/32, 2*3/2, (2)*8/5, (2)*27/16, (2)*9/5, (2)*15/8])


